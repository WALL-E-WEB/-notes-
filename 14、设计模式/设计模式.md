《JavaScript设计模式与开发实践》书籍笔记。

# 状态模式

```js
https://github.com/jakesgordon/javascript-state-machine

javascript-state-machine
```



```js
var Light = function() {
    this.currState = FSM.off;
    this.button = null;
}

Light.prototype.init = function() {
    var button = document.createElement('button');
    var self = this;
    button.innerHTML = '已关灯';
    this.button = docuemnt.body.appendChild(button);

    this.button.onclick = function() {
        self.currState.buttonWasPressed.call(self);
    }
}

var FSM = {
    off: {
        buttonWasPressed: function() {
            console.log('关灯');
            this.currState = FSM.on;
        }
    },
    on: {
        buttonWasPressed: function() {
            console.log('开灯');
            this.currState = FSM.off;
        }
    }
}

var light = new Light();
light.init();

```

